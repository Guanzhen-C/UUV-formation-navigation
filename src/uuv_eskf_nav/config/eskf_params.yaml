# ESKF水下导航系统配置文件
# 基于误差状态卡尔曼滤波的水下载具导航参数

# ================================
# 机器人相关参数
# ================================
robot_name: "eca_a9"        # 机器人名称，将用于话题命名空间
world_frame: "odom"         # 世界坐标系名称  
base_link_frame: "eca_a9/base_link"  # 机器人基座坐标系名称

# ================================
# IMU噪声模型参数
# ================================
imu:
  # 陀螺仪测量噪声标准差 [rad/s]
  # 对应角速度白噪声，影响姿态估计精度
  # 减小以提高姿态跟踪精度
  gyro_noise_std: 0.005
  
  # 加速度计测量噪声标准差 [m/s²] 
  # 对应线加速度白噪声，影响速度和位置估计精度
  # 减小以提高速度跟踪精度
  accel_noise_std: 0.1
  
  # 陀螺仪偏差随机游走标准差 [rad/s]
  # 对应陀螺仪偏差的时变特性，值越大表示偏差变化越快
  gyro_bias_std: 1.0e-4
  
  # 加速度计偏差随机游走标准差 [m/s²]
  # 对应加速度计偏差的时变特性，值越大表示偏差变化越快  
  accel_bias_std: 3.0e-3

# ================================
# DVL(多普勒测速仪)参数
# ================================
dvl:
  # DVL速度测量噪声标准差 [m/s]
  # 直接影响速度观测的权重，值越小越信任DVL测量
  noise_std: 0.05

# ================================  
# 深度传感器参数
# ================================
depth:
  # 深度测量噪声标准差 [m]
  # 直接影响深度观测的权重，值越小越信任深度测量
  noise_std: 0.05

# ================================
# 航向量测（可选）
# ================================
heading:
  # 航向角噪声标准差 [rad]（来自IMU姿态或罗盘）
  noise_std: 0.05

# ================================
# 初始状态设置
# ================================
initial_state:
  # 初始位置 [x, y, z] 单位: 米
  # 在仿真环境中，通常设为载具的起始位置
  position: [0.0, 0.0, -0.0]
  
  # 初始速度 [vx, vy, vz] 单位: 米/秒
  # 载具初始时刻的运动速度
  velocity: [0.0, 0.0, 0.0]
  
  # 初始姿态 [roll, pitch, yaw] 单位: 弧度
  # 载具初始时刻的姿态角，遵循ZYX欧拉角顺序
  attitude: [0.0, 0.0, 0.0]

# ================================
# 初始不确定性(协方差对角元素的标准差)
# ================================ 
# 注意：这些值的平方将作为初始协方差矩阵的对角元素
initial_covariance_diagonal:
  # 位置不确定性标准差 [m]
  # 分别对应x, y, z方向的位置初始不确定性
  - 0.5    # x位置标准差
  - 0.5    # y位置标准差  
  - 0.3    # z位置标准差 (深度方向精度更高)
  
  # 速度不确定性标准差 [m/s]
  # 分别对应x, y, z方向的速度初始不确定性
  - 0.2    # x速度标准差
  - 0.2    # y速度标准差
  - 0.2    # z速度标准差
  
  # 姿态不确定性标准差 [rad]
  # 分别对应roll, pitch, yaw的初始不确定性
  - 0.05   # roll标准差 (~3°)
  - 0.05   # pitch标准差  
  - 0.1    # yaw标准差   (~6°)
  
  # 陀螺仪偏差不确定性标准差 [rad/s]
  # 分别对应x, y, z轴陀螺仪偏差的初始不确定性
  - 0.02   # x轴陀螺偏差标准差
  - 0.02   # y轴陀螺偏差标准差
  - 0.02   # z轴陀螺偏差标准差
  
  # 加速度计偏差不确定性标准差 [m/s²]  
  # 分别对应x, y, z轴加速度计偏差的初始不确定性
  - 0.2    # x轴加速度计偏差标准差
  - 0.2    # y轴加速度计偏差标准差
  - 0.2    # z轴加速度计偏差标准差

# ================================
# 系统行为参数
# ================================
# 是否发布TF变换
publish_tf: true

# 最大初始化等待时间 [秒]
# 如果超过此时间还未收到所有传感器数据，则报告初始化失败
max_initialization_time: 10.0

# ================================
# 调试和监控参数  
# ================================
debug:
  # 是否打印详细的调试信息
  verbose: false
  
  # 状态监控频率 [Hz]
  # 控制导航状态信息的打印频率
  status_report_frequency: 0.1
